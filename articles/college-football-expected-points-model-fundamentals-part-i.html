<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Expected points model definition - a model explainer">
<title>College Football Expected Points Model Fundamentals - Part I • cfbfastR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="College Football Expected Points Model Fundamentals - Part I">
<meta property="og:description" content="Expected points model definition - a model explainer">
<meta property="og:image" content="https://github.com/sportsdataverse/cfbfastR-data/blob/main/themes/social_card_cfbfastR_final_quote.png?raw=true">
<meta property="og:image:alt" content="When you code good, you know good. When you know good, you win good. When you win good, they pay good.">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@saiemgilani">
<meta name="twitter:site" content="@cfbfastR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="cfbfastr.sportsdataverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cfbfastR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.9.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--funcs">
    <span class="fas fa fas fa-code"></span>
     
    Funcs
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--funcs">
    <a class="dropdown-item" href="../reference/index.html">Function Index</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>cfbfastR Data</h6>
    <a class="dropdown-item" href="../reference/load_cfb_pbp.html">Load Full Season PBP Data</a>
    <a class="dropdown-item" href="../reference/update_cfb_db.html">Update or Create Database</a>
    <a class="dropdown-item" href="../reference/cfbd_pbp_data.html">Play-by-Play Data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>CFB Data</h6>
    <a class="dropdown-item" href="../reference/register_cfbd.html">CFBD API Keys</a>
    <a class="dropdown-item" href="../reference/cfbd_games.html">Games</a>
    <a class="dropdown-item" href="../reference/cfbd_play.html">Plays</a>
    <a class="dropdown-item" href="../reference/cfbd_drives.html">Drives</a>
    <a class="dropdown-item" href="../reference/cfbd_teams.html">Teams</a>
    <a class="dropdown-item" href="../reference/cfbd_players.html">Players</a>
    <a class="dropdown-item" href="../reference/cfbd_stats.html">Statistics</a>
    <a class="dropdown-item" href="../reference/cfbd_metrics.html">Metrics</a>
    <a class="dropdown-item" href="../reference/cfbd_ratings.html">Ratings</a>
    <a class="dropdown-item" href="../reference/cfbd_draft.html">Draft</a>
    <a class="dropdown-item" href="../reference/cfbd_betting_lines.html">Betting</a>
    <a class="dropdown-item" href="../reference/cfbd_recruiting.html">Recruiting</a>
    <a class="dropdown-item" href="../reference/cfbd_coaches.html">Coaches</a>
    <a class="dropdown-item" href="../reference/cfbd_conferences.html">Conferences</a>
    <a class="dropdown-item" href="../reference/cfbd_venues.html">Venues</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>ESPN Data</h6>
    <a class="dropdown-item" href="../reference/espn_metrics.html">ESPN Metrics</a>
    <a class="dropdown-item" href="../reference/espn_ratings_fpi.html">ESPN Ratings</a>
    <a class="dropdown-item" href="../reference/espn_cfb_scoreboard.html">ESPN Scoreboard</a>
    <a class="dropdown-item" href="../reference/espn_cfb_pbp.html">ESPN PBP</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--articles">
    <span class="fas fa fas fa-book-reader"></span>
     
    Articles
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--articles">
    <a class="dropdown-item" href="../articles/index.html">Vignettes</a>
    <h6 class="dropdown-header" data-toc-skip>Introductory</h6>
    <a class="dropdown-item" href="../articles/intro.html">CFB Analytics with cfbfastR</a>
    <a class="dropdown-item" href="../articles/animated-wp-plotting.html">Animated Win Probability Plots</a>
    <a class="dropdown-item" href="../articles/fourth-down-plot-tutorial.html">Fourth Down Tendency Plots</a>
    <a class="dropdown-item" href="../articles/rolling-epa-graph.html">Rolling EPA Graphs</a>
    <a class="dropdown-item" href="../articles/nth-rated-recruit.html">Visualizing Team Talent with Player Recruit Rankings</a>
    <a class="dropdown-item" href="../articles/map-tutorial.html">Intro to Visualizing Recruiting Geography</a>
    <h6 class="dropdown-header" data-toc-skip>Expected Points Model Fundamentals</h6>
    <a class="dropdown-item" href="../articles/college-football-expected-points-model-fundamentals-part-i.html">Part 1 - Model Definition</a>
    <a class="dropdown-item" href="../articles/college-football-expected-points-model-fundamentals-part-ii.html">Part 2 - Regression Models</a>
    <a class="dropdown-item" href="../articles/college-football-expected-points-model-fundamentals-part-iii.html">Part 3 - History of Expected Points Models</a>
    <h6 class="dropdown-header" data-toc-skip>CFBD Tutorials</h6>
    <a class="dropdown-item" href="../articles/cfbd_betting.html">CFBD Betting</a>
    <a class="dropdown-item" href="../articles/cfbd_games.html">CFBD Games</a>
    <a class="dropdown-item" href="../articles/cfbd_plays.html">CFBD Plays</a>
    <a class="dropdown-item" href="../articles/cfbd_recruiting.html">CFBD Recruiting</a>
    <a class="dropdown-item" href="../articles/cfbd_stats.html">CFBD Stats</a>
    <a class="dropdown-item" href="../articles/cfbd_teams.html">CFBD Teams</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fas fa fas fa-newspaper"></span>
     
     News
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--sdv">
    <span class="fas fa fas fa-project-diagram"></span>
     
     SDV
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--sdv">
    <a class="external-link dropdown-item" href="https://sportsdataverse.org/">SportsDataverse</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R Packages</h6>
    <a class="external-link dropdown-item" href="https://r.sportsdataverse.org/">sportsdataverse-R</a>
    <a class="dropdown-item" href="https://cfbfastR.sportsdataverse.org/">cfbfastR</a>
    <a class="external-link dropdown-item" href="https://hoopR.sportsdataverse.org/">hoopR</a>
    <a class="external-link dropdown-item" href="https://wehoop.sportsdataverse.org/">wehoop</a>
    <a class="external-link dropdown-item" href="https://fastRhockey.sportsdataverse.org/">fastRhockey</a>
    <a class="external-link dropdown-item" href="https://hockeyr.netlify.app/">hockeyR</a>
    <a class="external-link dropdown-item" href="https://abhiamishra.github.io/ggshakeR/">ggshakeR</a>
    <a class="external-link dropdown-item" href="https://BillPetti.github.io/baseballr/">baseballr</a>
    <a class="external-link dropdown-item" href="https://jaseziv.github.io/worldfootballR/">worldfootballR</a>
    <a class="external-link dropdown-item" href="https://usfootballR.sportsdataverse.org/">usfootballR</a>
    <a class="external-link dropdown-item" href="https://github.com/Dato-Futbol/soccerAnimate/">soccerAnimate</a>
    <a class="external-link dropdown-item" href="https://jaseziv.github.io/chessR/">chessR</a>
    <a class="external-link dropdown-item" href="https://oddsapiR.sportsdataverse.org/">oddsapiR</a>
    <a class="external-link dropdown-item" href="https://sportyR.sportsdataverse.org/">sportyR</a>
    <a class="external-link dropdown-item" href="https://torvik.dev/">toRvik</a>
    <a class="external-link dropdown-item" href="https://cfbplotR.sportsdataverse.org/">cfbplotR</a>
    <a class="external-link dropdown-item" href="https://camdenk.github.io/mlbplotR/">mlbplotR</a>
    <a class="external-link dropdown-item" href="https://github.com/sportsdataverse/softballR/">softballR</a>
    <a class="external-link dropdown-item" href="https://cfb4th.sportsdataverse.org/">cfb4th</a>
    <a class="external-link dropdown-item" href="https://github.com/nwslR/nwslR/">nwslR</a>
    <a class="external-link dropdown-item" href="https://jacklich10.github.io/gamezoneR/">gamezoneR</a>
    <a class="external-link dropdown-item" href="https://recruitr.sportsdataverse.org/">recruitR</a>
    <a class="external-link dropdown-item" href="https://puntalytics.github.io/puntr/">puntr</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Python Packages</h6>
    <a class="external-link dropdown-item" href="https://py.sportsdataverse.org/">sportsdataverse-py</a>
    <a class="external-link dropdown-item" href="https://sportypy.sportsdataverse.org/">sportypy</a>
    <a class="external-link dropdown-item" href="https://github.com/nwslR/nwslpy/">nwslpy</a>
    <a class="external-link dropdown-item" href="https://github.com/sportsdataverse/recruitR-py/">recruitR-py</a>
    <a class="external-link dropdown-item" href="https://github.com/nathanblumenfeld/collegebaseball/">collegebaseball</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Node.js Packages</h6>
    <a class="external-link dropdown-item" href="https://js.sportsdataverse.org/">sportsdataverse.js</a>
    <a class="external-link dropdown-item" href="https://github.com/nntrn/nfl-nerd/">nfl-nerd</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--data">
    <span class="fas fa fas fa-database"></span>
     
     Data
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--data">
    <a class="external-link dropdown-item" href="https://collegefootballdata.com">CFBData.com</a>
    <a class="external-link dropdown-item" href="https://github.com/sportsdataverse/sportsdataverse-data/releases">SDV Data Releases</a>
    <a class="external-link dropdown-item" href="https://github.com/sportsdataverse/cfbfastR-data">Data Repository</a>
    <a class="external-link dropdown-item" href="https://github.com/sportsdataverse/cfbfastR-raw">Raw Data Repository</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="http://gameonpaper.com/cfb">
    <span class="fas fa fas fa-football-ball"></span>
     
     GP
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="http://twitter.com/cfbfastR">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sportsdataverse/cfbfastR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>College Football Expected Points Model Fundamentals - Part I</h1>
                        <h4 data-toc-skip class="author">Saiem Gilani
<br><a href="https://twitter.com/saiemgilani" target="blank" class="external-link"><img src="https://img.shields.io/twitter/follow/saiemgilani?color=blue&amp;label=%40saiemgilani&amp;logo=twitter&amp;style=for-the-badge" alt="@saiemgilani"></a>
<a href="https://github.com/saiemgilani" target="blank" class="external-link"><img src="https://img.shields.io/github/followers/saiemgilani?color=eee&amp;logo=Github&amp;style=for-the-badge" alt="@saiemgilani"></a>
</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sportsdataverse/cfbfastR/blob/HEAD/vignettes/college-football-expected-points-model-fundamentals-part-i.Rmd" class="external-link"><code>vignettes/college-football-expected-points-model-fundamentals-part-i.Rmd</code></a></small>
      <div class="d-none name"><code>college-football-expected-points-model-fundamentals-part-i.Rmd</code></div>
    </div>

    
    
<p>In this tutorial, we are going to get more familiar with the Expected
Points portion of College Football Expected Points Added model.</p>
<p>We will be using these ideas as a tool for valuation of plays with
the goal of contextualizing team and player performance relative to the
average, given the situational factors at the start of the play.</p>
<p>Let’s dig in.</p>
<div class="section level3">
<h3 id="the-data">The Data<a class="anchor" aria-label="anchor" href="#the-data"></a>
</h3>
<p>We will be acquiring data from <a href="collegefootballdata.com">CollegeFootballData.com</a>, courtesy of
@<a href="https://twitter.com/CFB_data" class="external-link">CFB_data</a>, using
<code>cfbfastR</code>, created by <a href="https://twitter.com/saiemgilani" class="external-link">Saiem Gilani</a>, <a href="https://twitter.com/akeaswaran" class="external-link">Akshay Easwaran</a>, <a href="https://twitter.com/JaredDLee" class="external-link">Jared Lee</a> and <a href="https://twitter.com/arbitanalytics" class="external-link">Eric Hess</a>.</p>
</div>
<div class="section level2">
<h2 id="the-expected-points-model">The Expected Points Model<a class="anchor" aria-label="anchor" href="#the-expected-points-model"></a>
</h2>
<div class="section level3">
<h3 id="outcome-target-variables">Outcome (target) variables<a class="anchor" aria-label="anchor" href="#outcome-target-variables"></a>
</h3>
<p>This model generates probabilities for the possible types of next
scoring events within the same half. The 7 scoring possibilities
are:</p>
<ul>
<li>Touchdown (7)</li>
<li>Field Goal (3)</li>
<li>Safety (2)</li>
<li>No Score (0)</li>
<li>Opponent Safety (-2)</li>
<li>Opponent Field Goal (-3)</li>
<li>Opponent Touchdown (-7)</li>
</ul>
<p>For each play, the multinomial logistic regression model calculates
what the probability () of each of those scoring outcomes is and the
expected points can be calculated by multiplying each of the scoring
event probabilities by their associated point values and summing the
products, like so:</p>
<p><a href="https://imgur.com/sJTs6j6" class="external-link"><img src="https://i.imgur.com/sJTs6j6.png" title="Figure: @SaiemGilani"></a></p>
</div>
<div class="section level3">
<h3 id="predictive-variables">Predictive variables<a class="anchor" aria-label="anchor" href="#predictive-variables"></a>
</h3>
<p>The model is fit using the following variables and interactions:</p>
<div class="section level4">
<h4 id="pure-distance-factors-24-variables">Pure Distance Factors (24 variables)<a class="anchor" aria-label="anchor" href="#pure-distance-factors-24-variables"></a>
</h4>
<ul>
<li>Yards from opponent’s end zone (6)</li>
<li>log(yards to convert 1st/Goal) (6)</li>
<li>Indicator for goal-to-go situations (6)</li>
<li>Interaction between log(yards to convert 1st/Goal) and goal-to-go
indicator (6)</li>
</ul>
</div>
<div class="section level4">
<h4 id="down-factors-and-down-interactions-54-variables">Down Factors and Down Interactions (54 variables)<a class="anchor" aria-label="anchor" href="#down-factors-and-down-interactions-54-variables"></a>
</h4>
<ul>
<li>Down (18 since Down is a categorical factor)</li>
<li>Interaction between log(yards to convert 1st/Goal) and down
(18)</li>
<li>Interaction between yards from opponent’s end zone and down
(18)</li>
</ul>
</div>
<div class="section level4">
<h4 id="time-factors-and-intercept-18-variables">Time Factors and Intercept (18 variables)<a class="anchor" aria-label="anchor" href="#time-factors-and-intercept-18-variables"></a>
</h4>
<ul>
<li>Seconds remaining in the current half (6)</li>
<li>Indicator for under two-minutes to the end of half/game (6)</li>
<li>Intercept for each next score type, used as the combined mean value
for reference variables, in this case 1st Down, not a goal-to-go
situation and outside of under two minutes left to the end of half or
game. (6)</li>
</ul>
<p>You might be asking at this point, “how are there 96 variables, if
there are only 10 bullet points here?” (skip to the next section if you
didn’t ask.) The answer is a little technical if answered completely,
but to model this appropriately, one next score type is used as the
reference target (we chose “No Score” as our reference) and the
coefficients are fitted to the predictive variables for each of the
remaining 6 target score types. This is why you see each factor
comprising at least 6 variables.</p>
<p>The additional complexity is that down must be treated as a
categorical factor, meaning 1st down is treated as the reference and
there are then 6 variables for 2nd down, 6 variables for 3rd down, and 6
variables for 4th down. The same logic would then also apply to each of
the down interactions. The Boolean indicators for goal-to-go and under
two-minutes are also factors that give relative coefficients to the
‘False’ case, but since there only two cases, only 6 additional
variables are created for each.</p>
</div>
</div>
<div class="section level3">
<h3 id="model-weights">Model Weights<a class="anchor" aria-label="anchor" href="#model-weights"></a>
</h3>
<p>Observations are weighted by both score differential and difference
in number of drives between play and the next score. The former
weighting is intended to accomplish the goal of valuing plays where the
score differential is higher less than possessions where the score
differential is closer to zero.</p>
<p>Additionally, the latter model weighting places more emphasis on
plays on drives that occur closer to the next scoring drive more than
plays on prior drives. An example would be if a game begins with 6
scoreless drives to start before one team scores, the plays of the first
drive would have a weight of 1/7*, the plays of the second drive a 2/7
weighting, with the plays of the first scoring drive (i.e. the 7th
possession) having a full 7/7 weighting.</p>
<p>*Full disclosure: it would be 7 as the denominator if 6 scoreless
drives was the largest distance between scoring drives for the entire
season across all games (it could be 12 for the games across the entire
season, in which case the values would have been 1/12, 2/12, …,
7/12.)</p>
<p>This way the model weighs all games with the same denominator and
scales the weight of each scoring drive distance to a value between 0
and 1. This same caveat also applies for score differential. Score
difference is scaled by largest score differential across all games in a
given season. Both of the score differential and scoring drive distance
weightings are combined to create a single scaled weighting for each
play across each season.</p>
<div class="section level4">
<h4 id="kicking-kickoffs-and-punts">Kicking, Kickoffs, and Punts<a class="anchor" aria-label="anchor" href="#kicking-kickoffs-and-punts"></a>
</h4>
<p>Field goals and kickoffs are treated separately. The probability that
a field goal is made is calculated using a general additive model using
the (smoothed) distance of the kick as the predictor, calculated as the
yard-line plus an additional 17 yards. Each field goal attempt’s
expected points are weighted by the probability it is made (resulting in
3 expected points) and adjusted by the probability of a missed field
goal (i.e. Pr(Missed FG) = 1 - Pr(Made FG)) and the resulting change in
EPA due to changes in field position, down, etc. that would occur from
the missed field goal.</p>
<p>Touch-backs are considered the standard expected outcome for kickoffs
and anything returned past the 25 would be a points added situation and
vice versa for those not returned to at least the 25. considered</p>
<p>PATs are not currently being treated separately, the extra point is
treated as a given, which is less than ideal.</p>
<p>Punts are not treated separately, since their primary effect lies
mostly in the change in field position. It is a situation the expected
points model is well suited to predict on.</p>
</div>
</div>
<div class="section level3">
<h3 id="field-position-and-expected-points">Field Position and Expected Points<a class="anchor" aria-label="anchor" href="#field-position-and-expected-points"></a>
</h3>
<p>The model was trained on non-overtime data from 2014-2019 using
leave-one-season-out cross-validation. This means the model holds one
season for test data validation and uses the remaining seasons as the
training set, then uses the trained model to make predictions on the
season held out. This process is then iterated for each season in the
data.</p>
<p><a href="https://imgur.com/g5rSRUX" class="external-link"><img src="https://i.imgur.com/g5rSRUXl.png" title="Figure: @SaiemGilani"></a></p>
<p>This is the plot of expected points in relation to field position
alone, grouped in 10 yard bins and labeled on the plot with the mean
expected points for the bin. The point at the bottom left is roughly the
expected points from having the ball at the offense’s own 1-yard line,
-1.28 expected points. The observed mean expected value for receiving
the ball from the offense’s own 21-30-yard line (or 70 to 79 yards from
opponent’s end-zone) is 0.29 expected points.</p>
<p>It should be no surprise that as offenses move closer to their
opponent’s goal line, the expected points trend upward for the offense.
Notice for the point representing the 30-39-yard line grouping, the
expected points is right around the value of a field goal. This aligns
with one of the common definitions of a scoring opportunity, giving
support to the appropriateness of the definition.</p>
<p>The observed average expected points in the red-zone are 4.05 in the
10-19-yard line bin and 5.17 inside the 10, with plays at the 1-yard
line averaging 6.06 expected points. Note: There are some plays that
were input as yard 0 that I interpreted as an “&amp; inches” situation.
There are 66 such plays (compared to 5.3k plays at the 1-yard line) and
their observed mean expected points is 4.62.</p>
</div>
<div class="section level3">
<h3 id="field-position-and-expected-points-by-down">Field Position and Expected Points by Down<a class="anchor" aria-label="anchor" href="#field-position-and-expected-points-by-down"></a>
</h3>
<p>Recall that down and down interactions were three of the predictors
in the model, so here is the field position view of expected points
separated by down. The plot below demonstrates that your expected points
are higher (on average) on 1st down than 2nd, and 2nd down than 3rd, etc
at every point on the field, except possibly near the offense’s own goal
line where there is risk of giving up a safety.</p>
<p><a href="https://imgur.com/S7etCxQ" class="external-link"><img src="https://i.imgur.com/S7etCxQl.png" title="Figure: @SaiemGilani"></a></p>
<p>This graph should be somewhat intuitive, but to understand what the
relative expected points difference for each down at the same field
position, we are interested in the vertical distance between each of the
lines.</p>
</div>
<div class="section level3">
<h3 id="st-and-2nd-down">1st and 2nd Down<a class="anchor" aria-label="anchor" href="#st-and-2nd-down"></a>
</h3>
<p>Noting that, we see that difference between 1st and 2nd down is
steady across most of the field from left to right, starting wider near
the offense’s own goal line and narrowing as the offense progresses
toward the opponent’s end-zone.</p>
</div>
<div class="section level3">
<h3 id="nd-and-3rd-down">2nd and 3rd Down<a class="anchor" aria-label="anchor" href="#nd-and-3rd-down"></a>
</h3>
<p>Examining the difference between the 2nd and 3rd down lines, the
distance is much wider, doubling the relative difference between 1st and
2nd for most portions of the middle 60 yards of the field.</p>
</div>
<div class="section level3">
<h3 id="rd-and-4th-down">3rd and 4th Down<a class="anchor" aria-label="anchor" href="#rd-and-4th-down"></a>
</h3>
<p>Further yet is the 4th down line, which has an interesting track,
narrowing closest to the other down lines around the 25 yard line.</p>
<p>Perhaps we should examine the next score probabilities underlying
each of these down lines to see what drives these relative differences.
More on that in Part 2, coming your way next.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://twitter.com/saiemgilani" class="external-link">Saiem Gilani</a>, <a href="https://twitter.com/akeaswaran" class="external-link">Akshay Easwaran</a>, <a href="https://twitter.com/JaredDLee" class="external-link">Jared Lee</a>, <a href="https://twitter.com/arbitanalytics" class="external-link">Eric Hess</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
