<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>College Football Expected Points Model Fundamentals - Part III • cfbfastR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="College Football Expected Points Model Fundamentals - Part III">
<meta property="og:description" content="A brief history of expected points models. Learn about Virgil Carter's 1970 paper and the origins of the nflscrapR expected points model (which the cfbscrapR package used). The cfbfastR package includes support for this model as well.">
<meta property="og:image" content="https://github.com/saiemgilani/cfbfastR-data/blob/master/themes/social_card_cfbfastR_final_quote.png?raw=true">
<meta property="og:image:alt" content="When you code good, you know good. When you know good, you win good. When you win good, they pay good.">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@saiemgilani">
<meta name="twitter:site" content="@cfbfastR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SE5ZJL93W6"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SE5ZJL93W6');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cfbfastR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.6.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-code"></span>
     
    Funcs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html">Function Index</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">cfbfastR Data</li>
    <li>
      <a href="../reference/load_cfb_pbp.html">Load Full Season PBP Data</a>
    </li>
    <li>
      <a href="../reference/update_cfb_db.html">Update or Create Database</a>
    </li>
    <li>
      <a href="../reference/cfbd_pbp_data.html">Play-by-Play Data</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">CFB Data</li>
    <li>
      <a href="../reference/register_cfbd.html">CFBD API Keys</a>
    </li>
    <li>
      <a href="../reference/cfbd_games.html">Games</a>
    </li>
    <li>
      <a href="../reference/cfbd_play.html">Plays</a>
    </li>
    <li>
      <a href="../reference/cfbd_drives.html">Drives</a>
    </li>
    <li>
      <a href="../reference/cfbd_teams.html">Teams</a>
    </li>
    <li>
      <a href="../reference/cfbd_players.html">Players</a>
    </li>
    <li>
      <a href="../reference/cfbd_stats.html">Statistics</a>
    </li>
    <li>
      <a href="../reference/cfbd_metrics.html">Metrics</a>
    </li>
    <li>
      <a href="../reference/cfbd_ratings.html">Ratings</a>
    </li>
    <li>
      <a href="../reference/cfbd_draft.html">Draft</a>
    </li>
    <li>
      <a href="../reference/cfbd_betting.html">Betting</a>
    </li>
    <li>
      <a href="../reference/cfbd_recruiting.html">Recruiting</a>
    </li>
    <li>
      <a href="../reference/cfbd_coaches.html">Coaches</a>
    </li>
    <li>
      <a href="../reference/cfbd_conferences.html">Conferences</a>
    </li>
    <li>
      <a href="../reference/cfbd_venues.html">Venues</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">ESPN Data</li>
    <li>
      <a href="../reference/espn_metrics.html">ESPN Metrics</a>
    </li>
    <li>
      <a href="../reference/espn_ratings.html">ESPN Ratings</a>
    </li>
    <li>
      <a href="../reference/espn_cfb_scoreboard.html">ESPN Scoreboard</a>
    </li>
    <li>
      <a href="../reference/espn_cfb_pbp.html">ESPN PBP</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-book-reader"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/index.html">Vignettes</a>
    </li>
    <li class="dropdown-header">Introductory</li>
    <li>
      <a href="../articles/intro.html">CFB Analytics with cfbfastR</a>
    </li>
    <li>
      <a href="../articles/animated-wp-plotting.html">Animated Win Probability Plots</a>
    </li>
    <li>
      <a href="../articles/fourth-down-plot-tutorial.html">Fourth Down Tendency Plots</a>
    </li>
    <li>
      <a href="../articles/rolling-epa-graph.html">Rolling EPA Graphs</a>
    </li>
    <li>
      <a href="../articles/nth-rated-recruit.html">Visualizing Team Talent with Player Recruit Rankings</a>
    </li>
    <li>
      <a href="../articles/map-tutorial.html">Intro to Visualizing Recruiting Geography</a>
    </li>
    <li class="dropdown-header">Expected Points Model Fundamentals</li>
    <li>
      <a href="../articles/college-football-expected-points-model-fundamentals-part-i.html">Part 1 - Model Definition</a>
    </li>
    <li>
      <a href="../articles/college-football-expected-points-model-fundamentals-part-ii.html">Part 2 - Regression Models</a>
    </li>
    <li>
      <a href="../articles/college-football-expected-points-model-fundamentals-part-iii.html">Part 3 - History of Expected Points Models</a>
    </li>
    <li class="dropdown-header">CFBD Tutorials</li>
    <li>
      <a href="../articles/cfbd_betting.html">CFBD Betting</a>
    </li>
    <li>
      <a href="../articles/cfbd_games.html">CFBD Games</a>
    </li>
    <li>
      <a href="../articles/cfbd_plays.html">CFBD Plays</a>
    </li>
    <li>
      <a href="../articles/cfbd_recruiting.html">CFBD Recruiting</a>
    </li>
    <li>
      <a href="../articles/cfbd_stats.html">CFBD Stats</a>
    </li>
    <li>
      <a href="../articles/cfbd_teams.html">CFBD Teams</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fas fa-newspaper"></span>
     
     News
  </a>
</li>
<li>
  <a href="http://gameonpaper.com/cfb">
    <span class="fas fa-football-ball"></span>
     
     GP
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-project-diagram"></span>
     
    SDV
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://sportsdataverse.org/">SportsDataverse</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">R Packages</li>
    <li>
      <a href="https://hoopR.sportsdataverse.org/">hoopR</a>
    </li>
    <li>
      <a href="https://wehoop.sportsdataverse.org/">wehoop</a>
    </li>
    <li>
      <a href="https://saiemgilani.github.io/recruitR/">recruitR</a>
    </li>
    <li>
      <a href="https://puntalytics.github.io/puntr">puntr</a>
    </li>
    <li>
      <a href="https://jacklich10.github.io/gamezoneR/">gamezoneR</a>
    </li>
    <li>
      <a href="https://kazink36.github.io/cfbplotR/">cfbplotR</a>
    </li>
    <li>
      <a href="https://kazink36.github.io/cfb4th/">cfb4th</a>
    </li>
    <li>
      <a href="https://jaseziv.github.io/worldfootballR/">worldfootballR</a>
    </li>
    <li>
      <a href="https://hockeyr.netlify.app/">hockeyR</a>
    </li>
    <li>
      <a href="https://BillPetti.github.io/baseballr/">baseballr</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Python Packages</li>
    <li>
      <a href="https://cfbfastR-py.sportsdataverse.org/">cfbfastR-py</a>
    </li>
    <li>
      <a href="https://hoopR-py.sportsdataverse.org/">hoopR-py</a>
    </li>
    <li>
      <a href="https://wehoop-py.sportsdataverse.org/">wehoop-py</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Node.js Packages</li>
    <li>
      <a href="https://saiemgilani.github.io/sportsdataverse/">sportsdataverse.js</a>
    </li>
    <li>
      <a href="https://github.com/nntrn/nfl-nerd/">nfl-nerd</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-database"></span>
     
     Data
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://collegefootballdata.com">CFBData.com</a>
    </li>
    <li>
      <a href="https://github.com/saiemgilani/cfbfastR-data">Data Repository</a>
    </li>
    <li>
      <a href="https://github.com/saiemgilani/cfbfastR-raw">Raw Data Repository</a>
    </li>
  </ul>
</li>
<li>
  <a></a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://twitter.com/cfbfastR">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/saiemgilani/cfbfastR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="college-football-expected-points-model-fundamentals-part-iii_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>College Football Expected Points Model Fundamentals - Part III</h1>
                        <h4 class="author">Saiem Gilani <br><a href="https://twitter.com/saiemgilani" target="blank"><img src="https://img.shields.io/twitter/follow/saiemgilani?color=blue&amp;label=%40saiemgilani&amp;logo=twitter&amp;style=for-the-badge" alt="@saiemgilani"></a> <a href="https://github.com/saiemgilani" target="blank"><img src="https://img.shields.io/github/followers/saiemgilani?color=eee&amp;logo=Github&amp;style=for-the-badge" alt="@saiemgilani"></a>
</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/saiemgilani/cfbfastR/blob/master/vignettes/college-football-expected-points-model-fundamentals-part-iii.Rmd"><code>vignettes/college-football-expected-points-model-fundamentals-part-iii.Rmd</code></a></small>
      <div class="hidden name"><code>college-football-expected-points-model-fundamentals-part-iii.Rmd</code></div>

    </div>

    
    
<p>Previously in part 1, we left off discussing field position and expected points, including a breakdown by down. Generally, what was presented could be considered the most top-level results discussion and model definition information. In part 2, we went into some detail about regression model building methods and how the model generates the next score probabilities, with some depth into how we arrived at the model from a technical perspective. Today, I feel it necessary for us to cover some history of the expected points model in football. This article will show you how we arrive at the model factors that we currently have from a historical perspective.</p>
<p>The entire purpose of these series of articles is to show you as transparently as I can how the College Football Expected Points model works, how well it works, and how the model is limited. Additionally, this research is reproducible.</p>
<div id="the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#the-data" class="anchor"></a>The Data</h2>
<p>We will be acquiring data from <a href="collegefootballdata.com">CollegeFootballData.com</a>, courtesy of @<a href="https://twitter.com/CFB_data">CFB_data</a>, using <code>cfbfastR</code>, created by <a href="https://twitter.com/saiemgilani">Saiem Gilani</a>, <a href="https://twitter.com/akeaswaran">Akshay Easwaran</a>, <a href="https://twitter.com/JaredDLee">Jared Lee</a> and <a href="https://twitter.com/arbitanalytics">Eric Hess</a>.</p>
</div>
<div id="an-abridged-history-of-expected-points-models-in-football" class="section level1">
<h1 class="hasAnchor">
<a href="#an-abridged-history-of-expected-points-models-in-football" class="anchor"></a>An Abridged History of Expected Points Models in Football</h1>
<div id="field-position-models" class="section level2">
<h2 class="hasAnchor">
<a href="#field-position-models" class="anchor"></a>Field Position models</h2>
<p>One of the earliest discussions and attempts at building an expected points model in football was made by <a href="https://vault.si.com/vault/1972/10/16/handy-pair-of-brainy-bengals">Virgil Carter of the Cincinatti Bengals</a> in his graduate research paper, “<a href="https://pubsonline.informs.org/doi/pdf/10.1287/opre.19.2.541">Operations Research on Football</a>”. Carter found some time to write the research paper while pursuing his MBA at Northwestern in the off-season from his main gig of being quarterback for the Chicago Bears.</p>
<p>For the study, Carter and his wife Judy coded 8,373 plays with 53 variables — including time, down, and distance — from 56 games played during the first half of the 1969 season. From the paper:</p>
<blockquote>
<p>… the field was divided into ten strips, namely, 99 to 01 yards to go, 90 to 81 yards to go, 80 to 71 yards to go, etc. These data are identified by their midpoints in Table I. The smallest number of data points in any set was 57 (this set centered on 95 yards to go), and the largest was 601 (this set centered on 75 yards to go)., This condensation led to a system of ten equations in 10 unknowns.</p>
</blockquote>
<p><a href="https://imgur.com/3X3s1dM"><img src="https://i.imgur.com/3X3s1dMl.png" title="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 1</strong>: Expected Point Values of Possession table | Virgil Carter, “Operations Research on Football”, 1971</p>
<blockquote>
<p>The analysis was based on a study of 2,852 first-and-ten plays. An independent calculation was performed for the subset of 1,258 first downs immediately following a turnover (i.e. the start of a series), and the average absolute difference was found to be less than a quarter of a point. (Carter and Machol, 1971)</p>
</blockquote>
<p>This smaller dataset is used as the basis for the model described in the paper and we will show the results graphically in the figure below.</p>
<p>For complete clarity, the study averaged the value of the next scores for each of the 10 strips listed to give the data in the table.</p>
<p><a href="https://imgur.com/MdzOd7s"><img src="https://i.imgur.com/MdzOd7sl.png" title="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 2</strong>: Virgil Carter’s Expected Points study, 1971</p>
<p>In 1988, the book <a href="https://www.amazon.com/gp/product/0446390917?ie=UTF8&amp;tag=adnfst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0446390917">Hidden Game of Football</a> by Bob Carroll, Pete Palmer, and John Thorn introduced a straight-line model of valuing field position in two point increments.</p>
<p>In other words, starting from your own 0 (or 100 yards-to-goal) is worth -2 expected points, possession at the 20-yard line is worth 0 expected points, and possession at the 40-yard line is worth 2 points, etc. until you get to the opponent’s goal line, where your expected points value is 6. This is a simplified model based in principle on the Carter model above.</p>
<p>The figure below is a visual comparison of the two models.</p>
<p><a href="https://imgur.com/Ccqk9lr"><img src="https://i.imgur.com/Ccqk9lrl.png" title="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 3</strong>: Expected Points Value Comparison: Virgil Carter study vs. Hidden Game of Football EP model</p>
<p>We have looked at the Carter model, which only looked at field position for a specific down and distance situation (namely, 1st-and-10) and modeled expected points as the average of the points scored in each of the 10 field position bins.</p>
<p>We additionally covered a model that ignored down and distance altogether and modeled the expected points as a function of field position. Now, let’s look at some of the more recent attempts at modeling that include both down and distance, in addition to field position.</p>
</div>
<div id="down-distance-field-position-models" class="section level2">
<h2 class="hasAnchor">
<a href="#down-distance-field-position-models" class="anchor"></a>Down-Distance-Field Position models</h2>
<p>Belur V. Dasarthy wrote a paper in 1991 with the three above factors using a nearest-neighbor approach and averaging the next points scored that I have not been able to get my hands on.</p>
<p>Some time in 2009 or earlier, Brian Burke posited that every down-distance-field position combination had an <a href="http://archive.advancedfootballanalytics.com/2009/12/expected-point-values.html">average net point advantage</a>. He built a model demonstrating as such with a smoothing technique called locally estimated scatterplot smoothing (LOESS) but not much else in terms of detail provided.</p>
<p>You can read more about his model at the link above, but among the noted limitations with the model were that it only included first and third quarter data since he correctly noted end-of-half drive plays was a factor that needed to be accounted for.</p>
<p>His other consideration was that he limited the data to plays where the score differential was within 10 points to limit the effect of garbage time.</p>
<p>Trey Causey did a quality write-up on a very similar style <a href="http://thespread.us/expected-points.html">model</a> and has done some interesting <a href="http://thespread.us/clustering.html">nearest-neighbors</a> player similarity modeling that is worth reading and, at the time, was reproducible.</p>
<p>So all of these models are curve fitting attempts that lead us to the topic of regression.</p>
</div>
<div id="game-state-situational-probability-models" class="section level2">
<h2 class="hasAnchor">
<a href="#game-state-situational-probability-models" class="anchor"></a>Game-State Situational Probability models</h2>
<p>Alok Pattani’s 2012 writeup on <a href="https://www.espn.com/nfl/story/_/id/8379024/nfl-explaining-expected-points-metric">ESPN’s NFL Expected Points model</a>, which additionally included home-field advantage and time remaining, left a lot of the detail out, giving few reproducible details.</p>
<p>However, in subsequent years, more details regarding the technical specifics of ESPN’s Bayesian hierarchical statistical expected points model were discussed in an article on the <a href="https://www.espn.com/college-football/story/_/page/PSimpactrating0819/introducing-new-way-rate-college-football-players">PlayStation Player Impact Rating</a>.</p>
<p>Additionally, Kenneth Goldner wrote a paper in 2017 about using a Markov modeling of a possession with stochastic processes which I have been unable to get my hands on. EDIT: A very kind Columbia professor saw this article and sent me the paper. Among other things, the paper demonstrates that on 1st and 10 at any point on the field, the expected points is positive.</p>
<p>In 2017, Ron Yurko, Sam Ventura, and Max Horowitz from Carnegie Mellon University’s Statistics department started presenting “<a href="https://www.stat.cmu.edu/~ryurko/files/greatlakes_2017.pdf">NFL Player Evaluation Using Expected Points Added with nflscrapR</a>” at conferences and ultimately published the <a href="https://www.degruyter.com/view/journals/jqas/15/3/article-p163.xml?tab_body=pdf-74962">nflWAR</a> paper in the Journal of Quantitative Analysis in Sports.</p>
<p>(That is a seminal work in football analytics and if you were to only click one link to read more on, that is the paper you should look at.)</p>
<p><a href="https://imgur.com/cejyymh"><img src="https://i.imgur.com/cejyymhl.png" title="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 4</strong>: Modeling Expected Points using situational factors to predict the probability of each Next Score type</p>
<p>The current cfbfastR model is providing expected points using the same model fit to college football data and with very similar adjustments.</p>
<p>Time to talk about the cfbfastR model, finally!</p>
<p>Recall the following figure from part 2.</p>
<p><a href="https://imgur.com/bGug8hp"><img src="https://i.imgur.com/bGug8hpl.png" title="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 5</strong>: Multinomial Logistic Regression Football Expected Points Model</p>
<p>The college football expected points (EP) model is a multinomial logistic regression model which generates probabilities for our dependent (target) variable, the possible types of next score events within the same half.</p>
<p>In our case, we build 6 logistic regression models fit to the next score types — Offense FG, Offense TD, Offense Safety, Opponent TD, Opponent FG, and Opponent Safety — all except for the class that is used as the base case (i.e. No Score), since that is accounted for in the intercept, as mentioned in part 1.</p>
<p>Since down is a categorical variable, it must be treated as a factor variable, meaning coefficients of the model are given relative to the base case of 1st down.</p>
<p>Thus, we have 2nd down, 3rd down, and 4th down coefficients, with the same reasoning applying to all other interaction variables which include down.</p>
<p>The independent variables are (in parentheses are the number of coefficients fitted to the factor):</p>
<ul>
<li>Down (3)</li>
<li>Distance (to convert 1st down or goal), transformed as log(yards to convert 1st/Goal) (1)</li>
<li>Yards-to-goal (or field position, or yards to opponent goal line) (1)</li>
<li>Time remaining in half in seconds (1)</li>
</ul>
<p>From these independent variables, we derive two other boolean variables:</p>
<ul>
<li>Goal-to-Go (1)</li>
<li>Under two minutes in half (1)</li>
</ul>
<p>We also include several interaction terms between our independent and derived variables:</p>
<ul>
<li>Interaction between distance as log(yards to convert 1st/Goal) and goal-to-go indicator (1)</li>
<li>Interaction between distance as log(yards to convert 1st/Goal) and down (3)</li>
<li>Interaction between yards from opponent’s end zone and down (3)</li>
</ul>
<p>The model outputs the probability predictions of each next score type for every play before the play. Then using the play outcomes to adjust our four main independent variables, it then outputs the model probability predictions for all 7 types post-play.</p>
<p>Next time will cover the underlying next score type probabilities and their influence on the change in expected points as the offense progresses down the field.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://twitter.com/saiemgilani">Saiem Gilani</a>, <a href="https://twitter.com/akeaswaran">Akshay Easwaran</a>, <a href="https://twitter.com/JaredDLee">Jared Lee</a>, <a href="https://twitter.com/arbitanalytics">Eric Hess</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '002e977de61519c48dce057f58ed1d24',
    indexName: 'cfbfastR',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
