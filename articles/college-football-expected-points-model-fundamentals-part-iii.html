<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A brief history of expected points models. Learn about Virgil Carter's 1970 paper and the origins of the nflscrapR expected points model (which the cfbscrapR package used). The cfbfastR package includes support for this model as well.">
<title>College Football Expected Points Model Fundamentals - Part III • cfbfastR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="College Football Expected Points Model Fundamentals - Part III">
<meta property="og:description" content="A brief history of expected points models. Learn about Virgil Carter's 1970 paper and the origins of the nflscrapR expected points model (which the cfbscrapR package used). The cfbfastR package includes support for this model as well.">
<meta property="og:image" content="https://github.com/sportsdataverse/cfbfastR-data/blob/main/themes/social_card_cfbfastR_final_quote.png?raw=true">
<meta property="og:image:alt" content="When you code good, you know good. When you know good, you win good. When you win good, they pay good.">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@saiemgilani">
<meta name="twitter:site" content="@cfbfastR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cfbfastR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.9.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--funcs">
    <span class="fas fa fas fa-code"></span>
     
    Funcs
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--funcs">
    <a class="dropdown-item" href="../reference/index.html">Function Index</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>cfbfastR Data</h6>
    <a class="dropdown-item" href="../reference/load_cfb_pbp.html">Load Full Season PBP Data</a>
    <a class="dropdown-item" href="../reference/update_cfb_db.html">Update or Create Database</a>
    <a class="dropdown-item" href="../reference/cfbd_pbp_data.html">Play-by-Play Data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>CFB Data</h6>
    <a class="dropdown-item" href="../reference/register_cfbd.html">CFBD API Keys</a>
    <a class="dropdown-item" href="../reference/cfbd_games.html">Games</a>
    <a class="dropdown-item" href="../reference/cfbd_play.html">Plays</a>
    <a class="dropdown-item" href="../reference/cfbd_drives.html">Drives</a>
    <a class="dropdown-item" href="../reference/cfbd_teams.html">Teams</a>
    <a class="dropdown-item" href="../reference/cfbd_players.html">Players</a>
    <a class="dropdown-item" href="../reference/cfbd_stats.html">Statistics</a>
    <a class="dropdown-item" href="../reference/cfbd_metrics.html">Metrics</a>
    <a class="dropdown-item" href="../reference/cfbd_ratings.html">Ratings</a>
    <a class="dropdown-item" href="../reference/cfbd_draft.html">Draft</a>
    <a class="dropdown-item" href="../reference/cfbd_betting_lines.html">Betting</a>
    <a class="dropdown-item" href="../reference/cfbd_recruiting.html">Recruiting</a>
    <a class="dropdown-item" href="../reference/cfbd_coaches.html">Coaches</a>
    <a class="dropdown-item" href="../reference/cfbd_conferences.html">Conferences</a>
    <a class="dropdown-item" href="../reference/cfbd_venues.html">Venues</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>ESPN Data</h6>
    <a class="dropdown-item" href="../reference/espn_metrics.html">ESPN Metrics</a>
    <a class="dropdown-item" href="../reference/espn_ratings_fpi.html">ESPN Ratings</a>
    <a class="dropdown-item" href="../reference/espn_cfb_scoreboard.html">ESPN Scoreboard</a>
    <a class="dropdown-item" href="../reference/espn_cfb_pbp.html">ESPN PBP</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--articles">
    <span class="fas fa fas fa-book-reader"></span>
     
    Articles
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--articles">
    <a class="dropdown-item" href="../articles/index.html">Vignettes</a>
    <h6 class="dropdown-header" data-toc-skip>Introductory</h6>
    <a class="dropdown-item" href="../articles/intro.html">CFB Analytics with cfbfastR</a>
    <a class="dropdown-item" href="../articles/animated-wp-plotting.html">Animated Win Probability Plots</a>
    <a class="dropdown-item" href="../articles/fourth-down-plot-tutorial.html">Fourth Down Tendency Plots</a>
    <a class="dropdown-item" href="../articles/rolling-epa-graph.html">Rolling EPA Graphs</a>
    <a class="dropdown-item" href="../articles/nth-rated-recruit.html">Visualizing Team Talent with Player Recruit Rankings</a>
    <a class="dropdown-item" href="../articles/map-tutorial.html">Intro to Visualizing Recruiting Geography</a>
    <h6 class="dropdown-header" data-toc-skip>Expected Points Model Fundamentals</h6>
    <a class="dropdown-item" href="../articles/college-football-expected-points-model-fundamentals-part-i.html">Part 1 - Model Definition</a>
    <a class="dropdown-item" href="../articles/college-football-expected-points-model-fundamentals-part-ii.html">Part 2 - Regression Models</a>
    <a class="dropdown-item" href="../articles/college-football-expected-points-model-fundamentals-part-iii.html">Part 3 - History of Expected Points Models</a>
    <h6 class="dropdown-header" data-toc-skip>CFBD Tutorials</h6>
    <a class="dropdown-item" href="../articles/cfbd_betting.html">CFBD Betting</a>
    <a class="dropdown-item" href="../articles/cfbd_games.html">CFBD Games</a>
    <a class="dropdown-item" href="../articles/cfbd_plays.html">CFBD Plays</a>
    <a class="dropdown-item" href="../articles/cfbd_recruiting.html">CFBD Recruiting</a>
    <a class="dropdown-item" href="../articles/cfbd_stats.html">CFBD Stats</a>
    <a class="dropdown-item" href="../articles/cfbd_teams.html">CFBD Teams</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fas fa fas fa-newspaper"></span>
     
     News
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--sdv">
    <span class="fas fa fas fa-project-diagram"></span>
     
     SDV
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--sdv">
    <a class="external-link dropdown-item" href="https://sportsdataverse.org/">SportsDataverse</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>R Packages</h6>
    <a class="external-link dropdown-item" href="https://r.sportsdataverse.org/">sportsdataverse-R</a>
    <a class="dropdown-item" href="https://cfbfastR.sportsdataverse.org/">cfbfastR</a>
    <a class="external-link dropdown-item" href="https://hoopR.sportsdataverse.org/">hoopR</a>
    <a class="external-link dropdown-item" href="https://wehoop.sportsdataverse.org/">wehoop</a>
    <a class="external-link dropdown-item" href="https://torvik.dev/">toRvik</a>
    <a class="external-link dropdown-item" href="https://fastRhockey.sportsdataverse.org/">fastRhockey</a>
    <a class="external-link dropdown-item" href="https://BillPetti.github.io/baseballr/">baseballr</a>
    <a class="external-link dropdown-item" href="https://jaseziv.github.io/worldfootballR/">worldfootballR</a>
    <a class="external-link dropdown-item" href="https://jaseziv.github.io/chessR/">chessR</a>
    <a class="external-link dropdown-item" href="https://sportyR.sportsdataverse.org/">sportyR</a>
    <a class="external-link dropdown-item" href="https://kazink36.github.io/cfbplotR/">cfbplotR</a>
    <a class="external-link dropdown-item" href="https://kazink36.github.io/cfb4th/">cfb4th</a>
    <a class="external-link dropdown-item" href="https://github.com/camdenk/mlbplotR">mlbplotR</a>
    <a class="external-link dropdown-item" href="https://recruitr.sportsdataverse.org/">recruitR</a>
    <a class="external-link dropdown-item" href="https://jacklich10.github.io/gamezoneR/">gamezoneR</a>
    <a class="external-link dropdown-item" href="https://puntalytics.github.io/puntr/">puntr</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Python Packages</h6>
    <a class="external-link dropdown-item" href="https://py.sportsdataverse.org/">sportsdataverse-py</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Node.js Packages</h6>
    <a class="external-link dropdown-item" href="https://js.sportsdataverse.org/">sportsdataverse.js</a>
    <a class="external-link dropdown-item" href="https://github.com/nntrn/nfl-nerd/">nfl-nerd</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--data">
    <span class="fas fa fas fa-database"></span>
     
     Data
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--data">
    <a class="external-link dropdown-item" href="https://collegefootballdata.com">CFBData.com</a>
    <a class="external-link dropdown-item" href="https://github.com/sportsdataverse/cfbfastR-data">Data Repository</a>
    <a class="external-link dropdown-item" href="https://github.com/sportsdataverse/cfbfastR-raw">Raw Data Repository</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="http://gameonpaper.com/cfb">
    <span class="fas fa fas fa-football-ball"></span>
     
     GP
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="http://twitter.com/cfbfastR">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sportsdataverse/cfbfastR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>College Football Expected Points Model Fundamentals - Part III</h1>
                        <h4 data-toc-skip class="author">Saiem Gilani
<br><a href="https://twitter.com/saiemgilani" target="blank" class="external-link"><img src="https://img.shields.io/twitter/follow/saiemgilani?color=blue&amp;label=%40saiemgilani&amp;logo=twitter&amp;style=for-the-badge" alt="@saiemgilani"></a>
<a href="https://github.com/saiemgilani" target="blank" class="external-link"><img src="https://img.shields.io/github/followers/saiemgilani?color=eee&amp;logo=Github&amp;style=for-the-badge" alt="@saiemgilani"></a>
</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sportsdataverse/cfbfastR/blob/HEAD/vignettes/college-football-expected-points-model-fundamentals-part-iii.Rmd" class="external-link"><code>vignettes/college-football-expected-points-model-fundamentals-part-iii.Rmd</code></a></small>
      <div class="d-none name"><code>college-football-expected-points-model-fundamentals-part-iii.Rmd</code></div>
    </div>

    
    
<p>Previously in part 1, we left off discussing field position and
expected points, including a breakdown by down. Generally, what was
presented could be considered the most top-level results discussion and
model definition information. In part 2, we went into some detail about
regression model building methods and how the model generates the next
score probabilities, with some depth into how we arrived at the model
from a technical perspective. Today, I feel it necessary for us to cover
some history of the expected points model in football. This article will
show you how we arrive at the model factors that we currently have from
a historical perspective.</p>
<p>The entire purpose of these series of articles is to show you as
transparently as I can how the College Football Expected Points model
works, how well it works, and how the model is limited. Additionally,
this research is reproducible.</p>
<div class="section level3">
<h3 id="the-data">The Data<a class="anchor" aria-label="anchor" href="#the-data"></a>
</h3>
<p>We will be acquiring data from <a href="collegefootballdata.com">CollegeFootballData.com</a>, courtesy of
@<a href="https://twitter.com/CFB_data" class="external-link">CFB_data</a>, using
<code>cfbfastR</code>, created by <a href="https://twitter.com/saiemgilani" class="external-link">Saiem Gilani</a>, <a href="https://twitter.com/akeaswaran" class="external-link">Akshay Easwaran</a>, <a href="https://twitter.com/JaredDLee" class="external-link">Jared Lee</a> and <a href="https://twitter.com/arbitanalytics" class="external-link">Eric Hess</a>.</p>
</div>
<div class="section level2">
<h2 id="an-abridged-history-of-expected-points-models-in-football">An Abridged History of Expected Points Models in Football<a class="anchor" aria-label="anchor" href="#an-abridged-history-of-expected-points-models-in-football"></a>
</h2>
<div class="section level3">
<h3 id="field-position-models">Field Position models<a class="anchor" aria-label="anchor" href="#field-position-models"></a>
</h3>
<p>One of the earliest discussions and attempts at building an expected
points model in football was made by <a href="https://vault.si.com/vault/1972/10/16/handy-pair-of-brainy-bengals" class="external-link">Virgil
Carter of the Cincinatti Bengals</a> in his graduate research paper, “<a href="https://pubsonline.informs.org/doi/pdf/10.1287/opre.19.2.541" class="external-link">Operations
Research on Football</a>”. Carter found some time to write the research
paper while pursuing his MBA at Northwestern in the off-season from his
main gig of being quarterback for the Chicago Bears.</p>
<p>For the study, Carter and his wife Judy coded 8,373 plays with 53
variables — including time, down, and distance — from 56 games played
during the first half of the 1969 season. From the paper:</p>
<blockquote>
<p>… the field was divided into ten strips, namely, 99 to 01 yards to
go, 90 to 81 yards to go, 80 to 71 yards to go, etc. These data are
identified by their midpoints in Table I. The smallest number of data
points in any set was 57 (this set centered on 95 yards to go), and the
largest was 601 (this set centered on 75 yards to go)., This
condensation led to a system of ten equations in 10 unknowns.</p>
</blockquote>
<p><a href="https://imgur.com/3X3s1dM" class="external-link"><img src="https://i.imgur.com/3X3s1dMl.png" title="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 1</strong>: Expected Point Values of Possession table
| Virgil Carter, “Operations Research on Football”, 1971</p>
<blockquote>
<p>The analysis was based on a study of 2,852 first-and-ten plays. An
independent calculation was performed for the subset of 1,258 first
downs immediately following a turnover (i.e. the start of a series), and
the average absolute difference was found to be less than a quarter of a
point. (Carter and Machol, 1971)</p>
</blockquote>
<p>This smaller dataset is used as the basis for the model described in
the paper and we will show the results graphically in the figure
below.</p>
<p>For complete clarity, the study averaged the value of the next scores
for each of the 10 strips listed to give the data in the table.</p>
<p><a href="https://imgur.com/MdzOd7s" class="external-link"><img src="https://i.imgur.com/MdzOd7sl.png" title="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 2</strong>: Virgil Carter’s Expected Points study,
1971</p>
<p>In 1988, the book <a href="https://www.amazon.com/gp/product/0446390917?ie=UTF8&amp;tag=adnfst-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0446390917" class="external-link">Hidden
Game of Football</a> by Bob Carroll, Pete Palmer, and John Thorn
introduced a straight-line model of valuing field position in two point
increments.</p>
<p>In other words, starting from your own 0 (or 100 yards-to-goal) is
worth -2 expected points, possession at the 20-yard line is worth 0
expected points, and possession at the 40-yard line is worth 2 points,
etc. until you get to the opponent’s goal line, where your expected
points value is 6. This is a simplified model based in principle on the
Carter model above.</p>
<p>The figure below is a visual comparison of the two models.</p>
<p><a href="https://imgur.com/Ccqk9lr" class="external-link"><img src="https://i.imgur.com/Ccqk9lrl.png" title="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 3</strong>: Expected Points Value Comparison: Virgil
Carter study vs. Hidden Game of Football EP model</p>
<p>We have looked at the Carter model, which only looked at field
position for a specific down and distance situation (namely, 1st-and-10)
and modeled expected points as the average of the points scored in each
of the 10 field position bins.</p>
<p>We additionally covered a model that ignored down and distance
altogether and modeled the expected points as a function of field
position. Now, let’s look at some of the more recent attempts at
modeling that include both down and distance, in addition to field
position.</p>
</div>
<div class="section level3">
<h3 id="down-distance-field-position-models">Down-Distance-Field Position models<a class="anchor" aria-label="anchor" href="#down-distance-field-position-models"></a>
</h3>
<p>Belur V. Dasarthy wrote a paper in 1991 with the three above factors
using a nearest-neighbor approach and averaging the next points scored
that I have not been able to get my hands on.</p>
<p>Some time in 2009 or earlier, Brian Burke posited that every
down-distance-field position combination had an <a href="http://www.advancedfootballanalytics.com/2009/12/expected-point-values.html" class="external-link">average
net point advantage</a>. He built a model demonstrating as such with a
smoothing technique called locally estimated scatterplot smoothing
(LOESS) but not much else in terms of detail provided.</p>
<p>You can read more about his model at the link above, but among the
noted limitations with the model were that it only included first and
third quarter data since he correctly noted end-of-half drive plays was
a factor that needed to be accounted for.</p>
<p>His other consideration was that he limited the data to plays where
the score differential was within 10 points to limit the effect of
garbage time.</p>
<p>Trey Causey did a quality write-up on a very similar style <a href="http://thespread.us/expected-points.html" class="external-link">model</a> and has done
some interesting <a href="http://thespread.us/clustering.html" class="external-link">nearest-neighbors</a> player
similarity modeling that is worth reading and, at the time, was
reproducible.</p>
<p>So all of these models are curve fitting attempts that lead us to the
topic of regression.</p>
</div>
<div class="section level3">
<h3 id="game-state-situational-probability-models">Game-State Situational Probability models<a class="anchor" aria-label="anchor" href="#game-state-situational-probability-models"></a>
</h3>
<p>Alok Pattani’s 2012 writeup on <a href="https://www.espn.com/nfl/story/_/id/8379024/nfl-explaining-expected-points-metric" class="external-link">ESPN’s
NFL Expected Points model</a>, which additionally included home-field
advantage and time remaining, left a lot of the detail out, giving few
reproducible details.</p>
<p>However, in subsequent years, more details regarding the technical
specifics of ESPN’s Bayesian hierarchical statistical expected points
model were discussed in an article on the <a href="https://www.espn.com/college-football/story/_/page/PSimpactrating0819/introducing-new-way-rate-college-football-players" class="external-link">PlayStation
Player Impact Rating</a>.</p>
<p>Additionally, Kenneth Goldner wrote a paper in 2017 about using a
Markov modeling of a possession with stochastic processes which I have
been unable to get my hands on. EDIT: A very kind Columbia professor saw
this article and sent me the paper. Among other things, the paper
demonstrates that on 1st and 10 at any point on the field, the expected
points is positive.</p>
<p>In 2017, Ron Yurko, Sam Ventura, and Max Horowitz from Carnegie
Mellon University’s Statistics department started presenting “<a href="https://www.stat.cmu.edu/~ryurko/files/greatlakes_2017.pdf" class="external-link">NFL
Player Evaluation Using Expected Points Added with nflscrapR</a>” at
conferences and ultimately published the <a href="https://www.degruyter.com/view/journals/jqas/15/3/article-p163.xml?tab_body=pdf-74962" class="external-link">nflWAR</a>
paper in the Journal of Quantitative Analysis in Sports.</p>
<p>(That is a seminal work in football analytics and if you were to only
click one link to read more on, that is the paper you should look
at.)</p>
<p><a href="https://imgur.com/cejyymh" class="external-link"><img src="https://i.imgur.com/cejyymhl.png" title="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 4</strong>: Modeling Expected Points using situational
factors to predict the probability of each Next Score type</p>
<p>The current cfbfastR model is providing expected points using the
same model fit to college football data and with very similar
adjustments.</p>
<p>Time to talk about the cfbfastR model, finally!</p>
<p>Recall the following figure from part 2.</p>
<p><a href="https://imgur.com/bGug8hp" class="external-link"><img src="https://i.imgur.com/bGug8hpl.png" title="Figure: @SaiemGilani"></a></p>
<p><strong>Figure 5</strong>: Multinomial Logistic Regression Football
Expected Points Model</p>
<p>The college football expected points (EP) model is a multinomial
logistic regression model which generates probabilities for our
dependent (target) variable, the possible types of next score events
within the same half.</p>
<p>In our case, we build 6 logistic regression models fit to the next
score types — Offense FG, Offense TD, Offense Safety, Opponent TD,
Opponent FG, and Opponent Safety — all except for the class that is used
as the base case (i.e. No Score), since that is accounted for in the
intercept, as mentioned in part 1.</p>
<p>Since down is a categorical variable, it must be treated as a factor
variable, meaning coefficients of the model are given relative to the
base case of 1st down.</p>
<p>Thus, we have 2nd down, 3rd down, and 4th down coefficients, with the
same reasoning applying to all other interaction variables which include
down.</p>
<p>The independent variables are (in parentheses are the number of
coefficients fitted to the factor):</p>
<ul>
<li>Down (3)</li>
<li>Distance (to convert 1st down or goal), transformed as log(yards to
convert 1st/Goal) (1)</li>
<li>Yards-to-goal (or field position, or yards to opponent goal line)
(1)</li>
<li>Time remaining in half in seconds (1)</li>
</ul>
<p>From these independent variables, we derive two other boolean
variables:</p>
<ul>
<li>Goal-to-Go (1)</li>
<li>Under two minutes in half (1)</li>
</ul>
<p>We also include several interaction terms between our independent and
derived variables:</p>
<ul>
<li>Interaction between distance as log(yards to convert 1st/Goal) and
goal-to-go indicator (1)</li>
<li>Interaction between distance as log(yards to convert 1st/Goal) and
down (3)</li>
<li>Interaction between yards from opponent’s end zone and down (3)</li>
</ul>
<p>The model outputs the probability predictions of each next score type
for every play before the play. Then using the play outcomes to adjust
our four main independent variables, it then outputs the model
probability predictions for all 7 types post-play.</p>
<p>Next time will cover the underlying next score type probabilities and
their influence on the change in expected points as the offense
progresses down the field.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://twitter.com/saiemgilani" class="external-link">Saiem Gilani</a>, <a href="https://twitter.com/akeaswaran" class="external-link">Akshay Easwaran</a>, <a href="https://twitter.com/JaredDLee" class="external-link">Jared Lee</a>, <a href="https://twitter.com/arbitanalytics" class="external-link">Eric Hess</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
